{
  "title": "K8s Green SaaS \u2014 Platform Overview",
  "uid": "green-saas-overview",
  "version": 1,
  "panels": [
    {
      "id": 1,
      "title": "API Request Rate",
      "type": "stat",
      "targets": [
        {
          "expr": "sum(rate(http_requests_total{job='green-api'}[5m]))"
        }
      ]
    },
    {
      "id": 2,
      "title": "API Error Rate",
      "type": "stat",
      "targets": [
        {
          "expr": "sum(rate(http_requests_total{job='green-api',status=~'5..'}[5m])) / sum(rate(http_requests_total{job='green-api'}[5m]))"
        }
      ]
    },
    {
      "id": 3,
      "title": "API P99 Latency",
      "type": "stat",
      "targets": [
        {
          "expr": "histogram_quantile(0.99, rate(http_request_duration_seconds_bucket{job='green-api'}[5m]))"
        }
      ]
    },
    {
      "id": 4,
      "title": "NATS Messages/s",
      "type": "graph",
      "targets": [
        {
          "expr": "rate(nats_messages_total[1m])"
        }
      ]
    },
    {
      "id": 5,
      "title": "Active Tenants",
      "type": "stat",
      "targets": [
        {
          "expr": "count(count by (tenant_id) (green_agent_last_collect_timestamp))"
        }
      ]
    }
  ]
}